<div class="wikidoc">
<h4>Debugging</h4>
<p>To assist in debugging the administrator can</p>
<ul>
<li>Enable logging in the web.config: using the <strong>LogEventsToFile</strong> settings. If this is set&nbsp;on, then&nbsp;an XML file will be dropped in the&nbsp;&nbsp;specified logging folder.
<br>
<strong>REMEMBER</strong> if you enable this feature files will be created in the dump folder which you will need to manually delete.
</li><li>If the service is not called, use the diagnostic suggestions in the <a href="https://tfsalertsdsl.codeplex.com/documentation">
references section of this document </a>to look for subscription errors in the TFS SQL tables. But check first the URL is correct, it is easy to make a typo.
</li><li>All other debugging is handled via <a href="http://nlog-project.org/">nLog</a>, so the options are varied. Probably the best debugging options are
<ul>
<li>view the Debug Trace output. You can attach a Visual Studio debugger; but the best way to do this on a production environment is run the SysInternals
<a href="http://technet.microsoft.com/en-gb/sysinternals/bb896647.aspx">DebugView</a> (note that this needs to be &lsquo;run as administrator&rsquo; to see all log information for all processes).
</li><li>sends errors to the Windows event log (see <a href="https://tfsalertsdsl.codeplex.com/releases/view/126004">
https://tfsalertsdsl.codeplex.com/releases/view/126004</a>) </li><li>sends logging to a file </li></ul>
</li></ul>
<blockquote>
<p>The following nLog.config file provides examples of logging options. Any nLog targets can be used as needed</p>
</blockquote>
<blockquote>
<pre><font color="#008000">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;<br></font>&lt;nlog xmlns=<a href="http://www.nlog-project.org/schemas/NLog.xsd">http://www.nlog-project.org/schemas/NLog.xsd</a> xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;<br><font color="#008000">&lt;!-- See </font><a href="http://nlog-project.org/wiki/Configuration_file"><font color="#008000">http://nlog-project.org/wiki/Configuration_file</font></a><font color="#008000"> for information on customizing logging rules and outputs.&mdash;&gt;<br></font>&lt;targets&gt;<br><font color="#008000">&lt;!-- add your targets here &ndash;&gt;<br>&lt;!--&lt;target xsi:type=&quot;File&quot; name=&quot;f&quot; fileName=&quot;${basedir}app_data\logs\${shortdate}.log&quot; layout=&quot;${longdate} ${uppercase:${level}} ${message}&quot; /&gt;&mdash;&gt;<br></font>&lt;target xsi:type=&quot;OutputDebugString&quot; name=&quot;d&quot; layout=&quot;${longdate} ${uppercase:${level}} ${message}&quot; /&gt;<br><font color="#008000">&lt;!-- Need to make sure the source is created, this can be via an MSI or command line tool http://msdn.microsoft.com/en-us/library/2awhba7a.aspx &ndash;&gt;<br></font>&lt;target xsi:type=&quot;EventLog&quot;name=&quot;e&quot; layout=&quot;${longdate} ${uppercase:${level}} ${message}&quot; source=&quot;TfsAlertProcessor&quot; eventId=&quot;1&quot; log=&quot;Application&quot; /&gt;<br>&lt;/targets&gt;<br>&lt;rules&gt;
<font color="#008000">&lt;!-- add your logging rules here &ndash;&gt;<br></font>&lt;logger name=&quot;*&quot; minlevel=&quot;Trace&quot; writeTo=&quot;d&quot; /&gt;<br>&lt;logger name=&quot;*&quot; minlevel=&quot;Error&quot; writeTo=&quot;e&quot; /&gt;<br><font color="#008000">&lt;!--&lt;logger name=&quot;*&quot; minlevel=&quot;Trace&quot; writeTo=&quot;f&quot; /&gt;&mdash;&gt;<br></font>&lt;/rules&gt;<br>&lt;/nlog&gt;</pre>
</blockquote>
<blockquote>Note that for logging to the event log to work, the event source must be manually created. A tool to do this is provided on this site as the download&nbsp;<a href="https://tfsalertsdsl.codeplex.com/releases/view/126004">https://tfsalertsdsl.codeplex.com/releases/view/126004</a>&nbsp;.
 More details on creating event sources can be found on MSDN at <a href="http://msdn.microsoft.com/en-us/library/2awhba7a.aspx">
http://msdn.microsoft.com/en-us/library/2awhba7a.aspx</a></blockquote>
</div><div class="ClearBoth"></div>